---
title: 启动菜单代码分析
date: 2025-12-31 23:32:30
tags:
---
### 1. 引入和常量定义
```rust
use bevy::prelude::*;

const VIRTUAL_WIDTH: f32 = 1920.0;
const VIRTUAL_HEIGHT: f32 = 1080.0;
```
use bevy::prelude::*; - 引入Bevy的所有常用组件和系统

定义虚拟屏幕尺寸为1920x1080，这是一个固定的参考分辨率，UI会基于这个尺寸设计，然后通过缩放适配不同的实际窗口大小

### 2. 资源结构体定义
```rust
#[derive(Resource)]
struct FontAssets {
    default: Handle<Font>,
}
```
#[derive(Resource)] - 将结构体标记为Bevy资源，可以在系统间共享

Handle<Font> - Bevy的资源句柄，指向已加载的字体文件

用于统一管理字体资源，避免重复加载

### 图片资源
```rust
#[derive(Resource)]
struct ImageAssets {
    background: Handle<Image>,
    main_menu: Handle<Image>,
}
```
管理两个图片资源：背景图和主菜单图
使用句柄系统，支持异步加载和内存管理
