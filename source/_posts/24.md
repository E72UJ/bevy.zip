---
title: godot 编译研究
date: 2026-01-09 13:38:32
tags:
---

### godot 编译研究
```cmd
scons platform=windows \
      builtin_lzma=no \
      lzma_lib_path="C:/vcpkg/installed/x64-windows/lib" \
      lzma_include_path="C:/vcpkg/installed/x64-windows/include"
```

## vcpkg
#  liblzma
.\vcpkg install liblzma:x64-windows
# 安装静态库版本
.\vcpkg install liblzma:x64-windows-static

# 全局集成
.\vcpkg integrate install


## 检查集成
vcpkg list liblzma


## vcpkg 集成
```python
scons platform=windows ^
      builtin_lzma=no ^
      target=editor ^
      arch=x86_64 ^
      vcpkg_target_triplet=x64-windows
```
```python
scons platform=windows builtin_lzma=no target=editor arch=x86_64 vcpkg_target_triplet=x64-windows
```
```python
scons platform=windows ^
      builtin_lzma=no ^
      target=editor ^
      arch=x86_64 ^
      LIBPATH="C:/vcpkg/installed/x64-windows/lib" ^
      CPPPATH="C:/vcpkg/installed/x64-windows/include" ^
      LIBS="lzma"
```

## Godot 回退功能记录
```python
# 初始化游戏
func _ready():
    GameManager.initialize()
    GameManager.story_manager.load_story("res://story/chapter1.json")
    GameManager.start_game()

# 处理用户输入
func _input(event):
    if event.is_action_pressed("ui_accept"):
        GameManager.advance_story()
    elif event.is_action_pressed("vn_back"):
        GameManager.go_back()
# 当接收到用户输入的时候进行处理
```